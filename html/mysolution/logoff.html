<!doctype html>
<html>
<head>
<!--	
/*!
 * FileMaker WebDirect Custom Homepage by Harlow Technologies Inc.
 * http://www.harlowtech.com/
 *
 * Copyright 2016 Harlow Technologies Inc.
 * Released under the MIT license
 * https://github.com/bharlow/fm-webdirect-custom/blob/master/LICENSE.txt
 *
 * FileMaker is a trademark of FileMaker, Inc., registered in the U.S.and other countries. FileMaker WebDirect is a trademark of FileMaker, Inc.
 * Detect.js: User-Agent Parser (https://github.com/darcyclarke/Detect.js) is Dual licensed under the MIT and GPL licenses.
 *
 * Date: 2015-03-23 10:00 PST
 * Version: 1.3
 */
-->
<meta charset="UTF-8">
<title>FileMaker WebDirect Custom Homepage Example</title>

<!-- Page Cache -->
<meta http-equiv="cache-control" content="max-age=0">
<meta http-equiv="cache-control" content="no-cache">
<meta http-equiv="expires" content="0">
<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT">
<meta http-equiv="pragma" content="no-cache">

<!-- Robots -->
<meta name="robots" content="noindex,nofollow">

<!-- CSS -->
<link rel="stylesheet" href="styles.css">

</head>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="3">
	<tr>
		<td><img src="logo.png" width="350" height="250" alt="Your Company Name Here" /></td>
	</tr>
	<tr id="browserValid">
		<td><p><a class="button" href="http://fms.example.com/fmi/webd?homeurl=http://web.example.com/mysolution/logoff.html#MyDatabase">Login</a></p></td>
	</tr>
	<tr id="browserInvalid">
		<td>
			<p>We're sorry, the browser you are using is not compatible with FileMaker WebDirect.</p>
			<p>Please use Chrome, Internet Explorer or Safari.</p>
		</td>
	</tr>
</table>

<!-- JavaScript -->
<script type="text/javascript" src="detect.min.js"></script>
<script type="text/javascript">
	/* Detect Browser
	 * Prevent Non-WebDirect Browsers from Accessing FileMaker
	 * http://help.filemaker.com/app/answers/detail/a_id/14401/~/system-requirements-for-filemaker-server-14#3
	 */
	
	var user = detect.parse(navigator.userAgent);
	var webdirectBrowser = true;
	if( 
		user.browser.family.indexOf('IE') == -1 && 
		user.browser.family.indexOf('Edge') == -1 && 
		user.browser.family.indexOf('Chrome') == -1 && 
		user.browser.family.indexOf('Safari') == -1
	) {
		webdirectBrowser = false;
		document.getElementById('browserInvalid').style.display = 'table-row';
		document.getElementById('browserValid').style.display = 'none';
	} else {
		document.getElementById('browserInvalid').style.display = 'none';
		document.getElementById('browserValid').style.display = 'table-row';
	}
</script>

</body>
</html>